<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Becasunver4 - Nền tảng Năng lượng Bền vững</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #2E7D32;
            --primary-dark: #1B5E20;
            --primary-light: #4CAF50;
            --accent: #8BC34A;
            --white: #FFFFFF;
            --gray-light: #F8F9FA;
            --gray: #E9ECEF;
            --gray-medium: #CED4DA;
            --gray-dark: #6C757D;
            --text: #2E3A47;
            --text-light: #868E96;
            --shadow: rgba(46, 125, 50, 0.15);
            --success: #28a745;
            --error: #dc3545;
            --warning: #ffc107;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--gray-light);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80');
            background-size: cover;
            background-position: center;
            opacity: 0.15;
            z-index: -1;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            flex: 1;
        }
        
        /* Header Styles */
        header {
            background-color: var(--white);
            box-shadow: 0 2px 20px var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid var(--gray);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            color: var(--primary-dark);
        }
        
        .logo i {
            font-size: 2rem;
        }
        
        .logo h1 {
            font-size: 1.5rem;
            font-weight: 600;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 25px;
        }
        
        nav a {
            text-decoration: none;
            color: var(--text);
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 8px 0;
            position: relative;
        }
        
        nav a:hover {
            color: var(--primary);
        }
        
        nav a.active {
            color: var(--primary-dark);
            font-weight: 600;
        }
        
        nav a.active::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--primary);
            border-radius: 2px;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--text);
            background-color: var(--gray-light);
            padding: 8px 15px;
            border-radius: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .user-info:hover {
            background-color: var(--gray);
        }
        
        .user-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background-color: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            background-size: cover;
            background-position: center;
        }
        
        /* Page Container */
        .page-container {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .page-container.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Login Page */
        .login-container {
            max-width: 450px;
            margin: 80px auto;
            background: var(--white);
            border-radius: 16px;
            box-shadow: 0 10px 30px var(--shadow);
            padding: 40px;
            border: 1px solid var(--gray);
        }
        
        .login-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .login-header h2 {
            color: var(--primary-dark);
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .login-header p {
            color: var(--text-light);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text);
        }
        
        .form-control {
            width: 100%;
            padding: 14px 16px;
            border: 1px solid var(--gray-medium);
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s;
            background-color: var(--white);
        }
        
        .form-control:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(46, 125, 50, 0.2);
        }
        
        .btn {
            display: inline-block;
            padding: 14px 25px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            text-decoration: none;
        }
        
        .btn:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px var(--shadow);
        }
        
        .btn-block {
            display: block;
            width: 100%;
        }
        
        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }
        
        .btn-outline:hover {
            background-color: var(--primary);
            color: white;
        }
        
        .terms {
            margin-top: 20px;
            text-align: center;
            color: var(--text-light);
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .forgot-password {
            text-align: center;
            margin-top: 15px;
        }
        
        .forgot-password a {
            color: var(--primary);
            text-decoration: none;
            font-size: 0.9rem;
        }
        
        .forgot-password a:hover {
            text-decoration: underline;
        }
        
        /* Alert Messages */
        .alert {
            padding: 12px 16px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-weight: 500;
        }
        
        .alert-success {
            background-color: rgba(40, 167, 69, 0.1);
            color: var(--success);
            border: 1px solid rgba(40, 167, 69, 0.2);
        }
        
        .alert-error {
            background-color: rgba(220, 53, 69, 0.1);
            color: var(--error);
            border: 1px solid rgba(220, 53, 69, 0.2);
        }
        
        /* Loading Spinner */
        .spinner {
            border: 3px solid var(--gray);
            border-top: 3px solid var(--primary);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            display: inline-block;
            margin-right: 10px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Dashboard Styles */
        .welcome-banner {
            background: linear-gradient(135deg, var(--primary-light), var(--primary));
            color: white;
            padding: 30px;
            border-radius: 16px;
            margin-bottom: 30px;
            box-shadow: 0 10px 20px var(--shadow);
            position: relative;
            overflow: hidden;
        }
        
        .welcome-banner::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
        }
        
        .welcome-banner h2 {
            margin-bottom: 10px;
            font-size: 1.8rem;
            font-weight: 600;
        }
        
        .cycle-info {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-top: 15px;
            font-size: 0.95rem;
            opacity: 0.9;
        }
        
        .cycle-info i {
            font-size: 1.2rem;
        }
        
        .dashboard-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .card {
            background: var(--white);
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 5px 15px var(--shadow);
            transition: all 0.3s ease;
            border: 1px solid var(--gray);
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px var(--shadow);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .card-title {
            font-size: 1rem;
            color: var(--text-light);
            font-weight: 500;
        }
        
        .card-icon {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            background-color: var(--primary);
        }
        
        .card-value {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 5px;
            color: var(--primary-dark);
        }
        
        .card-subtitle {
            font-size: 0.9rem;
            color: var(--text-light);
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }
        
        /* Sustainability Activities */
        .activities-section {
            margin: 50px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 40px;
            color: var(--primary-dark);
        }
        
        .section-title h2 {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .section-title p {
            color: var(--text-light);
            max-width: 600px;
            margin: 0 auto;
        }
        
        .activities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .activity-card {
            background: var(--white);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 5px 15px var(--shadow);
            transition: all 0.3s ease;
            border: 1px solid var(--gray);
        }
        
        .activity-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px var(--shadow);
        }
        
        .activity-image {
            height: 200px;
            background-size: cover;
            background-position: center;
        }
        
        .activity-content {
            padding: 25px;
        }
        
        .activity-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--primary-dark);
        }
        
        .activity-description {
            color: var(--text-light);
            margin-bottom: 15px;
        }
        
        .activity-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--gray);
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-value {
            font-weight: 700;
            color: var(--primary);
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: var(--text-light);
        }
        
        /* Statement Page */
        .statement-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .bill-summary {
            background: var(--white);
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 5px 15px var(--shadow);
            margin-bottom: 30px;
            border: 1px solid var(--gray);
        }
        
        .bill-item {
            display: flex;
            justify-content: space-between;
            padding: 18px 0;
            border-bottom: 1px solid var(--gray);
        }
        
        .bill-item:last-child {
            border-bottom: none;
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--primary-dark);
        }
        
        .bill-item.credit {
            color: var(--primary);
        }
        
        .update-time {
            text-align: right;
            color: var(--text-light);
            font-size: 0.9rem;
            margin-top: 20px;
        }
        
        /* Dashboard Page */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: var(--white);
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 5px 15px var(--shadow);
            text-align: center;
            border: 1px solid var(--gray);
            transition: all 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px var(--shadow);
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-dark);
            margin: 10px 0;
        }
        
        .stat-label {
            color: var(--text-light);
            font-size: 0.9rem;
        }
        
        .charts-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .chart-card {
            background: var(--white);
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 5px 15px var(--shadow);
            border: 1px solid var(--gray);
        }
        
        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .chart-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary-dark);
        }
        
        .chart-container {
            height: 250px;
            position: relative;
        }
        
        .last-updated {
            text-align: right;
            color: var(--text-light);
            font-size: 0.9rem;
            margin-top: 20px;
        }
        
        /* Ownership Page */
        .ownership-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .ownership-card {
            background: var(--white);
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 5px 15px var(--shadow);
            border: 1px solid var(--gray);
        }
        
        .ownership-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-dark);
            margin: 15px 0;
            text-align: center;
        }
        
        .ownership-label {
            color: var(--text-light);
            font-size: 1rem;
            text-align: center;
        }
        
        .history-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .history-table th, .history-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid var(--gray);
        }
        
        .history-table th {
            background-color: var(--gray-light);
            font-weight: 600;
            color: var(--primary-dark);
        }
        
        .history-table tr:hover {
            background-color: var(--gray-light);
        }
        
        /* User Profile Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background-color: var(--white);
            border-radius: 16px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }
        
        .modal-header {
            background: linear-gradient(135deg, var(--primary-light), var(--primary));
            color: white;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .modal-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 600;
            background-size: cover;
            background-position: center;
        }
        
        .modal-body {
            padding: 25px;
        }
        
        .user-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .detail-item {
            margin-bottom: 15px;
        }
        
        .detail-label {
            font-weight: 600;
            color: var(--primary-dark);
            margin-bottom: 5px;
        }
        
        .detail-value {
            color: var(--text);
        }
        
        .modal-footer {
            padding: 15px 25px;
            background-color: var(--gray-light);
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        
        /* Company Info */
        .company-info {
            background: var(--white);
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 5px 15px var(--shadow);
            margin-top: 30px;
            border: 1px solid var(--gray);
        }
        
        .company-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .company-logo {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background-color: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
        }
        
        .company-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .contact-info {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        /* Feedback Section */
        .feedback-section {
            background: var(--white);
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 5px 15px var(--shadow);
            margin-top: 30px;
            border: 1px solid var(--gray);
        }
        
        .feedback-form {
            margin-top: 20px;
        }
        
        .rating {
            display: flex;
            gap: 5px;
            margin-bottom: 15px;
        }
        
        .star {
            font-size: 1.5rem;
            color: var(--gray-medium);
            cursor: pointer;
            transition: color 0.2s;
        }
        
        .star.active {
            color: var(--warning);
        }
        
        textarea.form-control {
            min-height: 100px;
            resize: vertical;
        }
        
        /* Footer */
        footer {
            text-align: center;
            padding: 30px 0;
            color: var(--text-light);
            font-size: 0.9rem;
            margin-top: 50px;
            border-top: 1px solid var(--gray);
            background-color: var(--white);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            
            nav ul {
                gap: 15px;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .charts-container, .ownership-grid {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .statement-header {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }
            
            .login-container {
                margin: 40px auto;
                padding: 30px 20px;
            }
            
            .user-details, .company-details {
                grid-template-columns: 1fr;
            }
            
            .activities-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-solar-panel"></i>
                    <h1>Becasunver4</h1>
                </div>
                <nav>
                    <ul>
                        <li><a href="#" class="nav-link" data-page="home">Trang chủ</a></li>
                        <li><a href="#" class="nav-link" data-page="statement">Hóa đơn</a></li>
                        <li><a href="#" class="nav-link" data-page="dashboard">Bảng điều khiển</a></li>
                        <li><a href="#" class="nav-link" data-page="ownership">Sở hữu & Lịch sử</a></li>
                        <li><a href="#" class="nav-link" id="login-link" data-page="login">Đăng nhập</a></li>
                        <li><a href="#" class="nav-link" id="logout-link" style="display:none;">Đăng xuất</a></li>
                    </ul>
                </nav>
                <div class="user-info" id="user-info" style="display:none;">
                    <div class="user-avatar" id="user-avatar">U</div>
                    <span id="user-email">user@example.com</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <!-- Login Page -->
        <div class="page-container active" id="login-page">
            <div class="login-container">
                <div class="login-header">
                    <h2>Đăng nhập Becasunver4</h2>
                    <p>Truy cập tài khoản đầu tư năng lượng mặt trời của bạn</p>
                </div>
                <div id="login-alert"></div>
                <form id="login-form">
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" class="form-control" id="email" placeholder="you@example.com" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Mật khẩu</label>
                        <input type="password" class="form-control" id="password" placeholder="••••••••" required>
                    </div>
                    <button type="submit" class="btn btn-block" id="login-btn">
                        <span class="spinner" style="display: none;"></span>
                        <span id="login-text">Đăng nhập</span>
                    </button>
                </form>
                <div class="forgot-password">
                    <a href="#" id="forgot-password-link">Quên mật khẩu?</a>
                </div>
                <div class="terms">
                    <p>Bằng việc đăng nhập, bạn đã đọc và đồng ý với <a href="#" id="terms-link">Hướng dẫn sử dụng và Điều khoản dịch vụ</a> của Becasunver4</p>
                    <p>Tài khoản mẫu: user1@gmail.com / 123456</p>
                    <p>Các tài khoản khác: nghi26@gmail.com / 123456, linh26@gmail.com / 123456, nhu26@gmail.com / 123456, nhi26@gmail.com / 123456, ha26@gmail.com / 123456, duyen26@gmail.com / 123456, hie26@gmail.com / 123456</p>
                </div>
            </div>
        </div>

        <!-- Home Dashboard -->
        <div class="page-container" id="home-page">
            <div class="welcome-banner">
                <h2 id="welcome-user">Chào mừng đến với Becasunver4</h2>
                <p>Đầu tư thông minh - Tiết kiệm bền vững - Bảo vệ môi trường</p>
                <div class="cycle-info">
                    <i class="far fa-calendar-alt"></i>
                    <span>Chu kỳ hiện tại: <span id="current-cycle">01/10/2025 - 31/10/2025</span></span>
                </div>
            </div>
            
            <div class="dashboard-cards">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Tín dụng Năng lượng Tháng này</div>
                        <div class="card-icon">
                            <i class="fas fa-coins"></i>
                        </div>
                    </div>
                    <div class="card-value" id="solar-credit">0 credits</div>
                    <div class="card-subtitle">Tương đương <span id="credit-value">0 VND</span> giảm giá</div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Tổng Credit Đang Sở Hữu</div>
                        <div class="card-icon">
                            <i class="fas fa-battery-full"></i>
                        </div>
                    </div>
                    <div class="card-value" id="total-credits">0 credits</div>
                    <div class="card-subtitle">Giá trị đầu tư hiện tại</div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Tổng Tiết kiệm Điện</div>
                        <div class="card-icon">
                            <i class="fas fa-piggy-bank"></i>
                        </div>
                    </div>
                    <div class="card-value" id="total-savings">0 VND</div>
                    <div class="card-subtitle">Từ khi tham gia chương trình</div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">CO₂ Tránh được</div>
                        <div class="card-icon">
                            <i class="fas fa-leaf"></i>
                        </div>
                    </div>
                    <div class="card-value" id="co2-avoided">0 kg</div>
                    <div class="card-subtitle">Tác động môi trường tích cực</div>
                </div>
            </div>
            
            <div class="action-buttons">
                <a href="#" class="btn nav-link" data-page="statement">
                    <i class="fas fa-file-invoice-dollar"></i> Xem Hóa đơn Chi tiết
                </a>
                <a href="#" class="btn btn-outline nav-link" data-page="dashboard">
                    <i class="fas fa-chart-line"></i> Bảng điều khiển Thời gian Thực
                </a>
            </div>
            
            <!-- Sustainability Activities -->
            <div class="activities-section">
                <div class="section-title">
                    <h2>Hoạt động Phát triển Bền vững</h2>
                    <p>Cùng Becasunver4 tham gia các hoạt động bảo vệ môi trường và phát triển bền vững</p>
                </div>
                
                <div class="activities-grid">
                    <div class="activity-card">
                        <div class="activity-image" style="background-image: url('https://images.unsplash.com/photo-1509391366360-2e959784a276?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2072&q=80')"></div>
                        <div class="activity-content">
                            <h3 class="activity-title">Trồng cây xanh</h3>
                            <p class="activity-description">Tham gia các chương trình trồng cây xanh tại địa phương, góp phần tăng độ che phủ và cải thiện chất lượng không khí.</p>
                            <div class="activity-stats">
                                <div class="stat">
                                    <div class="stat-value">1.200+</div>
                                    <div class="stat-label">Cây đã trồng</div>
                                </div>
                                <div class="stat">
                                    <div class="stat-value">85%</div>
                                    <div class="stat-label">Tỷ lệ sống</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="activity-card">
                        <div class="activity-image" style="background-image: url('https://images.unsplash.com/photo-1556761175-b413da4baf72?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80')"></div>
                        <div class="activity-content">
                            <h3 class="activity-title">Lắp đặt hệ thống năng lượng mặt trời</h3>
                            <p class="activity-description">Hỗ trợ lắp đặt hệ thống năng lượng mặt trời cho các hộ gia đình có thu nhập thấp, giúp họ tiết kiệm chi phí điện.</p>
                            <div class="activity-stats">
                                <div class="stat">
                                    <div class="stat-value">250+</div>
                                    <div class="stat-label">Hộ gia đình</div>
                                </div>
                                <div class="stat">
                                    <div class="stat-value">45%</div>
                                    <div class="stat-label">Tiết kiệm điện</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="activity-card">
                        <div class="activity-image" style="background-image: url('https://images.unsplash.com/photo-1587293852726-70cdb56c2866?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2072&q=80')"></div>
                        <div class="activity-content">
                            <h3 class="activity-title">Giáo dục môi trường</h3>
                            <p class="activity-description">Tổ chức các buổi hội thảo và lớp học về bảo vệ môi trường, tiết kiệm năng lượng cho học sinh và cộng đồng.</p>
                            <div class="activity-stats">
                                <div class="stat">
                                    <div class="stat-value">5.000+</div>
                                    <div class="stat-label">Người tham gia</div>
                                </div>
                                <div class="stat">
                                    <div class="stat-value">25</div>
                                    <div class="stat-label">Trường học</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="activity-card">
                        <div class="activity-image" style="background-image: url('https://images.unsplash.com/photo-1532996122724-e3c354a0b15b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80')"></div>
                        <div class="activity-content">
                            <h3 class="activity-title">Tái chế rác thải</h3>
                            <p class="activity-description">Triển khai chương trình phân loại và tái chế rác thải tại cộng đồng, giảm thiểu lượng rác thải ra môi trường.</p>
                            <div class="activity-stats">
                                <div class="stat">
                                    <div class="stat-value">12 tấn</div>
                                    <div class="stat-label">Rác tái chế</div>
                                </div>
                                <div class="stat">
                                    <div class="stat-value">65%</div>
                                    <div class="stat-label">Giảm rác thải</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="activity-card">
                        <div class="activity-image" style="background-image: url('https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80')"></div>
                        <div class="activity-content">
                            <h3 class="activity-title">Bảo vệ nguồn nước</h3>
                            <p class="activity-description">Tham gia các hoạt động làm sạch sông, hồ và nâng cao nhận thức về bảo vệ nguồn nước sạch trong cộng đồng.</p>
                            <div class="activity-stats">
                                <div class="stat">
                                    <div class="stat-value">8 km</div>
                                    <div class="stat-label">Sông được làm sạch</div>
                                </div>
                                <div class="stat">
                                    <div class="stat-value">3.500+</div>
                                    <div class="stat-label">Người tham gia</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="activity-card">
                        <div class="activity-image" style="background-image: url('https://images.unsplash.com/photo-1569163139394-de44cb2c8cb8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80')"></div>
                        <div class="activity-content">
                            <h3 class="activity-title">Nông nghiệp bền vững</h3>
                            <p class="activity-description">Hỗ trợ nông dân chuyển đổi sang mô hình nông nghiệp bền vững, sử dụng ít hóa chất và tiết kiệm nước.</p>
                            <div class="activity-stats">
                                <div class="stat">
                                    <div class="stat-value">150+</div>
                                    <div class="stat-label">Nông hộ</div>
                                </div>
                                <div class="stat">
                                    <div class="stat-value">40%</div>
                                    <div class="stat-label">Giảm hóa chất</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Company Info -->
            <div class="company-info">
                <div class="company-header">
                    <div class="company-logo">
                        <i class="fas fa-solar-panel"></i>
                    </div>
                    <h3>Thông tin Becasunver4</h3>
                </div>
                <div class="company-details">
                    <div>
                        <h4>Địa chỉ doanh nghiệp</h4>
                        <p>Tầng 15, Tòa nhà WTC Tower, Số 1 đường Hùng Vương, Phường Hòa Phú, Thành phố Thủ Dầu Một, tỉnh Bình Dương</p>
                        
                        <div class="contact-info">
                            <i class="fas fa-phone"></i>
                            <span>Hotline: 1800 1234</span>
                        </div>
                        <div class="contact-info">
                            <i class="fas fa-envelope"></i>
                            <span>Email: info@becasunver4.vn</span>
                        </div>
                        <div class="contact-info">
                            <i class="fas fa-globe"></i>
                            <span>Website: www.becasunver4.vn</span>
                        </div>
                    </div>
                    <div>
                        <h4>Giờ làm việc</h4>
                        <p>Thứ 2 - Thứ 6: 8:00 - 17:00</p>
                        <p>Thứ 7: 8:00 - 12:00</p>
                        <p>Chủ nhật: Nghỉ</p>
                        
                        <h4 style="margin-top: 15px;">Dịch vụ</h4>
                        <p>Đầu tư năng lượng mặt trời cộng đồng</p>
                        <p>Tư vấn lắp đặt hệ thống</p>
                        <p>Bảo trì và bảo hành</p>
                    </div>
                </div>
            </div>
            
            <!-- Feedback Section -->
            <div class="feedback-section">
                <h3>Đánh giá dịch vụ của chúng tôi</h3>
                <p>Chia sẻ trải nghiệm của bạn để chúng tôi có thể cải thiện dịch vụ tốt hơn</p>
                
                <div class="feedback-form">
                    <div class="form-group">
                        <label>Đánh giá của bạn</label>
                        <div class="rating" id="rating-stars">
                            <span class="star" data-rating="1">★</span>
                            <span class="star" data-rating="2">★</span>
                            <span class="star" data-rating="3">★</span>
                            <span class="star" data-rating="4">★</span>
                            <span class="star" data-rating="5">★</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="feedback-message">Nhận xét của bạn</label>
                        <textarea class="form-control" id="feedback-message" placeholder="Chia sẻ trải nghiệm của bạn với Becasunver4..."></textarea>
                    </div>
                    <button type="button" class="btn" id="submit-feedback">
                        <i class="fas fa-paper-plane"></i> Gửi đánh giá
                    </button>
                </div>
            </div>
        </div>

        <!-- Statement Page -->
        <div class="page-container" id="statement-page">
            <div class="statement-header">
                <h2>Hóa đơn Tháng: <span id="bill-cycle">10/2025</span></h2>
                <a href="#" class="btn" id="download-pdf">
                    <i class="fas fa-download"></i> Tải PDF
                </a>
            </div>
            
            <div class="bill-summary">
                <div class="bill-item">
                    <span>Phí Cơ bản EVN</span>
                    <span id="evn-charge">1.200.000 VND</span>
                </div>
                <div class="bill-item credit">
                    <span>Giảm giá từ Credit Năng lượng Mặt trời</span>
                    <span id="solar-credit-bill">-0 VND</span>
                </div>
                <div class="bill-item">
                    <span>Số tiền Phải thanh toán</span>
                    <span id="amount-due">1.200.000 VND</span>
                </div>
                
                <div class="update-time">
                    Cập nhật lần cuối: <span id="bill-update-time">28/10/2025, 10:28:35 PM</span>
                </div>
            </div>
            
            <div class="action-buttons">
                <a href="#" class="btn nav-link" data-page="home">
                    <i class="fas fa-arrow-left"></i> Quay lại Trang chủ
                </a>
            </div>
        </div>

        <!-- Dashboard Page -->
        <div class="page-container" id="dashboard-page">
            <h2>Bảng điều khiển Năng lượng Cộng đồng</h2>
            <p class="card-subtitle">Dữ liệu thời gian thực từ hệ thống pin năng lượng mặt trời Becasunver4</p>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="card-title">Công suất Hiện tại</div>
                    <div class="stat-value" id="current-power">0 kW</div>
                    <div class="stat-label">Năng lượng đang sản xuất</div>
                </div>
                
                <div class="stat-card">
                    <div class="card-title">Năng lượng Hôm nay</div>
                    <div class="stat-value" id="today-energy">0 kWh</div>
                    <div class="stat-label">Tổng sản xuất hôm nay</div>
                </div>
                
                <div class="stat-card">
                    <div class="card-title">Năng lượng Tháng này</div>
                    <div class="stat-value" id="month-energy">0 kWh</div>
                    <div class="stat-label">Từ đầu tháng</div>
                </div>
                
                <div class="stat-card">
                    <div class="card-title">CO₂ Tránh được</div>
                    <div class="stat-value" id="co2-avoided-dash">0 kg</div>
                    <div class="stat-label">Tác động môi trường</div>
                </div>
            </div>
            
            <div class="charts-container">
                <div class="chart-card">
                    <div class="chart-header">
                        <div class="chart-title">Đường cong Sản lượng Thời gian Thực</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="liveOutputChart"></canvas>
                    </div>
                </div>
                
                <div class="chart-card">
                    <div class="chart-header">
                        <div class="chart-title">Tiết kiệm Điện Hàng tháng (10/2024 - 12/2025)</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="savingsChart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="last-updated">
                Cập nhật lần cuối: <span id="last-updated-time">--:--:--</span>
            </div>
            
            <div class="action-buttons">
                <a href="#" class="btn nav-link" data-page="home">
                    <i class="fas fa-arrow-left"></i> Quay lại Trang chủ
                </a>
            </div>
        </div>

        <!-- Ownership Page -->
        <div class="page-container" id="ownership-page">
            <h2>Sở hữu & Lịch sử Đầu tư</h2>
            <p class="card-subtitle">Theo dõi credit và lịch sử đầu tư của bạn</p>
            
            <div class="ownership-grid">
                <div class="ownership-card">
                    <div class="card-title">Tổng Credit Đang sở hữu</div>
                    <div class="ownership-value" id="total-credits-own">0 credits</div>
                    <div class="ownership-label">Tương đương <span id="credits-value">0 VND</span></div>
                </div>
                
                <div class="ownership-card">
                    <div class="card-title">Giá trị Đầu tư Hiện tại</div>
                    <div class="ownership-value" id="investment-value">0 VND</div>
                    <div class="ownership-label">Dựa trên giá thị trường hiện tại</div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <div class="card-title">Lịch sử Giao dịch</div>
                </div>
                <table class="history-table">
                    <thead>
                        <tr>
                            <th>Ngày</th>
                            <th>Loại</th>
                            <th>Số lượng</th>
                            <th>Giá trị</th>
                            <th>Trạng thái</th>
                        </tr>
                    </thead>
                    <tbody id="transaction-history">
                        <!-- Transactions will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
            
            <div class="action-buttons">
                <a href="#" class="btn nav-link" data-page="home">
                    <i class="fas fa-arrow-left"></i> Quay lại Trang chủ
                </a>
            </div>
        </div>
    </div>

    <!-- User Profile Modal -->
    <div class="modal" id="user-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-avatar" id="modal-avatar">U</div>
                <div>
                    <h3 id="modal-name">Nguyễn Văn A</h3>
                    <p id="modal-email">user@example.com</p>
                </div>
            </div>
            <div class="modal-body">
                <div class="user-details">
                    <div class="detail-item">
                        <div class="detail-label">Địa chỉ</div>
                        <div class="detail-value" id="modal-address">Khu phố 1, Phường Hòa Phú, Thành phố Thủ Dầu Một, Bình Dương</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Mức tiêu thụ điện trung bình</div>
                        <div class="detail-value" id="modal-consumption">120 kWh/tháng</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Tình trạng hôn nhân</div>
                        <div class="detail-value" id="modal-marital">Đã kết hôn</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">Ngày tham gia</div>
                        <div class="detail-value" id="modal-join-date">15/03/2024</div>
                    </div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">Giới thiệu</div>
                    <div class="detail-value">Tôi là một nhà đầu tư quan tâm đến năng lượng tái tạo và bảo vệ môi trường. Tôi tin rằng Becasunver4 là giải pháp tuyệt vời để cùng nhau xây dựng một tương lai bền vững.</div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" id="close-modal">Đóng</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>© 2025 Becasunver4 - Nền tảng Năng lượng Bền vững. Tất cả quyền được bảo lưu.</p>
            <p>Địa chỉ: Tầng 15, Tòa nhà WTC Tower, Số 1 đường Hùng Vương, Phường Hòa Phú, Thành phố Thủ Dầu Một, tỉnh Bình Dương</p>
        </div>
    </footer>

    <script>
        // Sample user data
        const users = {
            "user1@gmail.com": {
                password: "123456",
                name: "Nguyễn Văn A",
                address: "Khu phố 1, Phường Hòa Phú, Thành phố Thủ Dầu Một, Bình Dương",
                consumption: "350 kWh/tháng",
                marital: "Đã kết hôn",
                joinDate: "15/03/2024",
                avatar: "NV"
            },
            "nghi26@gmail.com": {
                password: "123456",
                name: "Nguyễn Thị Nghi",
                address: "Khu phố 2, Phường Hòa Phú, Thành phố Thủ Dầu Một, Bình Dương",
                consumption: "280 kWh/tháng",
                marital: "Độc thân",
                joinDate: "20/04/2024",
                avatar: "NT"
            },
            "linh26@gmail.com": {
                password: "123456",
                name: "Trần Thị Linh",
                address: "Khu phố 3, Phường Hòa Phú, Thành phố Thủ Dầu Một, Bình Dương",
                consumption: "320 kWh/tháng",
                marital: "Đã kết hôn",
                joinDate: "10/05/2024",
                avatar: "TL"
            },
            "nhu26@gmail.com": {
                password: "123456",
                name: "Lê Thị Như",
                address: "Khu phố 4, Phường Hòa Phú, Thành phố Thủ Dầu Một, Bình Dương",
                consumption: "290 kWh/tháng",
                marital: "Độc thân",
                joinDate: "05/06/2024",
                avatar: "LN"
            },
            "nhi26@gmail.com": {
                password: "123456",
                name: "Phạm Thị Nhi",
                address: "Khu phố 5, Phường Hòa Phú, Thành phố Thủ Dầu Một, Bình Dương",
                consumption: "310 kWh/tháng",
                marital: "Đã kết hôn",
                joinDate: "15/07/2024",
                avatar: "PN"
            },
            "ha26@gmail.com": {
                password: "123456",
                name: "Võ Thị Hà",
                address: "Khu phố 6, Phường Hòa Phú, Thành phố Thủ Dầu Một, Bình Dương",
                consumption: "270 kWh/tháng",
                marital: "Độc thân",
                joinDate: "25/08/2024",
                avatar: "VH"
            },
            "duyen26@gmail.com": {
                password: "123456",
                name: "Hoàng Thị Duyên",
                address: "Khu phố 7, Phường Hòa Phú, Thành phố Thủ Dầu Một, Bình Dương",
                consumption: "330 kWh/tháng",
                marital: "Đã kết hôn",
                joinDate: "10/09/2024",
                avatar: "HD"
            },
            "hie26@gmail.com": {
                password: "123456",
                name: "Đặng Văn Hiếu",
                address: "Khu phố 8, Phường Hòa Phú, Thành phố Thủ Dầu Một, Bình Dương",
                consumption: "360 kWh/tháng",
                marital: "Đã kết hôn",
                joinDate: "30/09/2024",
                avatar: "ĐH"
            }
        };

        // DOM Elements
        const loginPage = document.getElementById('login-page');
        const homePage = document.getElementById('home-page');
        const statementPage = document.getElementById('statement-page');
        const dashboardPage = document.getElementById('dashboard-page');
        const ownershipPage = document.getElementById('ownership-page');
        const loginForm = document.getElementById('login-form');
        const loginAlert = document.getElementById('login-alert');
        const loginBtn = document.getElementById('login-btn');
        const loginText = document.getElementById('login-text');
        const spinner = document.querySelector('.spinner');
        const navLinks = document.querySelectorAll('.nav-link');
        const loginLink = document.getElementById('login-link');
        const logoutLink = document.getElementById('logout-link');
        const userInfo = document.getElementById('user-info');
        const userAvatar = document.getElementById('user-avatar');
        const userEmail = document.getElementById('user-email');
        const welcomeUser = document.getElementById('welcome-user');
        const userModal = document.getElementById('user-modal');
        const closeModal = document.getElementById('close-modal');
        const modalAvatar = document.getElementById('modal-avatar');
        const modalName = document.getElementById('modal-name');
        const modalEmail = document.getElementById('modal-email');
        const modalAddress = document.getElementById('modal-address');
        const modalConsumption = document.getElementById('modal-consumption');
        const modalMarital = document.getElementById('modal-marital');
        const modalJoinDate = document.getElementById('modal-join-date');
        const ratingStars = document.querySelectorAll('.star');
        const submitFeedback = document.getElementById('submit-feedback');
        const feedbackMessage = document.getElementById('feedback-message');
        const forgotPasswordLink = document.getElementById('forgot-password-link');
        const termsLink = document.getElementById('terms-link');

        // Current user
        let currentUser = null;

        // Initialize the app
        function initApp() {
            // Check if user is already logged in
            const savedUser = localStorage.getItem('becasunver4User');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                showHome();
            }

            // Event listeners
            loginForm.addEventListener('submit', handleLogin);
            navLinks.forEach(link => {
                link.addEventListener('click', handleNavigation);
            });
            logoutLink.addEventListener('click', handleLogout);
            userInfo.addEventListener('click', showUserModal);
            closeModal.addEventListener('click', () => {
                userModal.classList.remove('active');
            });
            
            // Rating stars
            ratingStars.forEach(star => {
                star.addEventListener('click', () => {
                    const rating = parseInt(star.getAttribute('data-rating'));
                    setRating(rating);
                });
            });
            
            // Submit feedback
            submitFeedback.addEventListener('click', submitUserFeedback);
            
            // Forgot password
            forgotPasswordLink.addEventListener('click', handleForgotPassword);
            
            // Terms link
            termsLink.addEventListener('click', showTerms);
            
            // Initialize charts
            initializeCharts();
            
            // Update data periodically
            setInterval(updateDashboardData, 5000);
            updateDashboardData();
        }

        // Handle login
        function handleLogin(e) {
            e.preventDefault();
            
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            // Show loading state
            loginText.textContent = 'Đang xử lý...';
            spinner.style.display = 'inline-block';
            loginBtn.disabled = true;
            
            // Simulate API call
            setTimeout(() => {
                if (users[email] && users[email].password === password) {
                    // Login successful
                    currentUser = {
                        email: email,
                        name: users[email].name,
                        address: users[email].address,
                        consumption: users[email].consumption,
                        marital: users[email].marital,
                        joinDate: users[email].joinDate,
                        avatar: users[email].avatar
                    };
                    
                    // Save to localStorage
                    localStorage.setItem('becasunver4User', JSON.stringify(currentUser));
                    
                    // Show success message
                    showAlert('Đăng nhập thành công!', 'success');
                    
                    // Show home page after a short delay
                    setTimeout(() => {
                        showHome();
                    }, 1000);
                } else {
                    // Login failed
                    showAlert('Email hoặc mật khẩu không chính xác!', 'error');
                    
                    // Reset loading state
                    loginText.textContent = 'Đăng nhập';
                    spinner.style.display = 'none';
                    loginBtn.disabled = false;
                }
            }, 1500);
        }

        // Show alert message
        function showAlert(message, type) {
            loginAlert.textContent = message;
            loginAlert.className = 'alert';
            loginAlert.classList.add(type);
            loginAlert.style.display = 'block';
            
            // Hide alert after 5 seconds
            setTimeout(() => {
                loginAlert.style.display = 'none';
            }, 5000);
        }

        // Handle navigation
        function handleNavigation(e) {
            e.preventDefault();
            const page = this.getAttribute('data-page');
            
            if (page === 'login') {
                showLogin();
            } else if (currentUser) {
                switch (page) {
                    case 'home':
                        showHome();
                        break;
                    case 'statement':
                        showStatement();
                        break;
                    case 'dashboard':
                        showDashboard();
                        break;
                    case 'ownership':
                        showOwnership();
                        break;
                }
            } else {
                showLogin();
            }
        }

        // Show login page
        function showLogin() {
            hideAllPages();
            loginPage.classList.add('active');
            loginLink.style.display = 'none';
            logoutLink.style.display = 'none';
            userInfo.style.display = 'none';
            
            // Reset form
            loginForm.reset();
            loginAlert.style.display = 'none';
            loginText.textContent = 'Đăng nhập';
            spinner.style.display = 'none';
            loginBtn.disabled = false;
        }

        // Show home page
        function showHome() {
            hideAllPages();
            homePage.classList.add('active');
            loginLink.style.display = 'none';
            logoutLink.style.display = 'block';
            userInfo.style.display = 'flex';
            
            // Update user info
            if (currentUser) {
                userEmail.textContent = currentUser.email;
                userAvatar.textContent = currentUser.avatar;
                welcomeUser.textContent = `Chào mừng, ${currentUser.name}!`;
            }
            
            updateHomeData();
        }

        // Show statement page
        function showStatement() {
            hideAllPages();
            statementPage.classList.add('active');
            updateStatementData();
        }

        // Show dashboard page
        function showDashboard() {
            hideAllPages();
            dashboardPage.classList.add('active');
            updateDashboardData();
        }

        // Show ownership page
        function showOwnership() {
            hideAllPages();
            ownershipPage.classList.add('active');
            updateOwnershipData();
        }

        // Hide all pages
        function hideAllPages() {
            document.querySelectorAll('.page-container').forEach(page => {
                page.classList.remove('active');
            });
        }

        // Update home page data
        function updateHomeData() {
            if (!currentUser) return;
            
            // Generate random data
            const solarCredit = Math.floor(Math.random() * 50) + 10;
            const totalCredits = Math.floor(Math.random() * 200) + 50;
            const creditValue = solarCredit * 2000;
            const totalSavings = Math.floor(Math.random() * 5000000) + 1000000;
            const co2Avoided = Math.floor(Math.random() * 500) + 100;
            
            document.getElementById('solar-credit').textContent = `${solarCredit} credits`;
            document.getElementById('credit-value').textContent = `${creditValue.toLocaleString('vi-VN')} VND`;
            document.getElementById('total-credits').textContent = `${totalCredits} credits`;
            document.getElementById('total-savings').textContent = `${totalSavings.toLocaleString('vi-VN')} VND`;
            document.getElementById('co2-avoided').textContent = `${co2Avoided} kg`;
        }

        // Update statement page data
        function updateStatementData() {
            if (!currentUser) return;
            
            const evnCharge = 1200000;
            const solarCredit = Math.floor(Math.random() * 50) + 10;
            const creditValue = solarCredit * 2000;
            const amountDue = Math.max(evnCharge - creditValue, 0);
            
            document.getElementById('evn-charge').textContent = `${evnCharge.toLocaleString('vi-VN')} VND`;
            document.getElementById('solar-credit-bill').textContent = `-${creditValue.toLocaleString('vi-VN')} VND`;
            document.getElementById('amount-due').textContent = `${amountDue.toLocaleString('vi-VN')} VND`;
            
            const now = new Date();
            document.getElementById('bill-update-time').textContent = now.toLocaleString('vi-VN');
        }

        // Update dashboard page data
        function updateDashboardData() {
            if (!currentUser) return;
            
            // Generate random data
            const currentPower = (Math.random() * 5).toFixed(2);
            const todayEnergy = (Math.random() * 30).toFixed(1);
            const monthEnergy = (Math.random() * 300 + 100).toFixed(0);
            const co2Avoided = Math.floor(Math.random() * 500) + 100;
            
            document.getElementById('current-power').textContent = `${currentPower} kW`;
            document.getElementById('today-energy').textContent = `${todayEnergy} kWh`;
            document.getElementById('month-energy').textContent = `${monthEnergy} kWh`;
            document.getElementById('co2-avoided-dash').textContent = `${co2Avoided} kg`;
            
            const now = new Date();
            document.getElementById('last-updated-time').textContent = now.toLocaleTimeString('vi-VN');
            
            // Update charts
            updateCharts();
        }

        // Update ownership page data
        function updateOwnershipData() {
            if (!currentUser) return;
            
            const totalCredits = Math.floor(Math.random() * 200) + 50;
            const investmentValue = totalCredits * 2000;
            
            document.getElementById('total-credits-own').textContent = `${totalCredits} credits`;
            document.getElementById('credits-value').textContent = `${investmentValue.toLocaleString('vi-VN')} VND`;
            document.getElementById('investment-value').textContent = `${investmentValue.toLocaleString('vi-VN')} VND`;
            
            // Update transaction history
            updateTransactionHistory();
        }

        // Update transaction history
        function updateTransactionHistory() {
            const transactions = [
                { date: '15/10/2025', type: 'Mua credit', amount: '10 credits', value: '20.000.000 VND', status: 'Hoàn thành' },
                { date: '10/10/2025', type: 'Nhận lợi nhuận', amount: '5 credits', value: '10.000.000 VND', status: 'Hoàn thành' },
                { date: '05/10/2025', type: 'Mua credit', amount: '15 credits', value: '30.000.000 VND', status: 'Hoàn thành' },
                { date: '28/09/2025', type: 'Nhận lợi nhuận', amount: '8 credits', value: '16.000.000 VND', status: 'Hoàn thành' },
                { date: '15/09/2025', type: 'Mua credit', amount: '20 credits', value: '40.000.000 VND', status: 'Hoàn thành' }
            ];
            
            const tbody = document.getElementById('transaction-history');
            tbody.innerHTML = '';
            
            transactions.forEach(transaction => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${transaction.date}</td>
                    <td>${transaction.type}</td>
                    <td>${transaction.amount}</td>
                    <td>${transaction.value}</td>
                    <td><span class="status-badge">${transaction.status}</span></td>
                `;
                tbody.appendChild(row);
            });
        }

        // Handle logout
        function handleLogout(e) {
            e.preventDefault();
            currentUser = null;
            localStorage.removeItem('becasunver4User');
            showLogin();
        }

        // Show user modal
        function showUserModal() {
            if (!currentUser) return;
            
            modalAvatar.textContent = currentUser.avatar;
            modalName.textContent = currentUser.name;
            modalEmail.textContent = currentUser.email;
            modalAddress.textContent = currentUser.address;
            modalConsumption.textContent = currentUser.consumption;
            modalMarital.textContent = currentUser.marital;
            modalJoinDate.textContent = currentUser.joinDate;
            
            userModal.classList.add('active');
        }

        // Set rating stars
        function setRating(rating) {
            ratingStars.forEach(star => {
                const starRating = parseInt(star.getAttribute('data-rating'));
                if (starRating <= rating) {
                    star.classList.add('active');
                } else {
                    star.classList.remove('active');
                }
            });
        }

        // Submit user feedback
        function submitUserFeedback() {
            const message = feedbackMessage.value.trim();
            let rating = 0;
            
            ratingStars.forEach(star => {
                if (star.classList.contains('active')) {
                    rating = Math.max(rating, parseInt(star.getAttribute('data-rating')));
                }
            });
            
            if (rating === 0) {
                alert('Vui lòng chọn số sao đánh giá!');
                return;
            }
            
            if (message === '') {
                alert('Vui lòng nhập nhận xét của bạn!');
                return;
            }
            
            // Simulate feedback submission
            alert('Cảm ơn bạn đã gửi đánh giá! Chúng tôi trân trọng phản hồi của bạn.');
            
            // Reset form
            ratingStars.forEach(star => star.classList.remove('active'));
            feedbackMessage.value = '';
        }

        // Handle forgot password
        function handleForgotPassword(e) {
            e.preventDefault();
            alert('Chức năng quên mật khẩu đang được phát triển. Vui lòng liên hệ hỗ trợ qua hotline 1800 1234.');
        }

        // Show terms
        function showTerms(e) {
            e.preventDefault();
            alert('Điều khoản dịch vụ đang được cập nhật. Vui lòng quay lại sau.');
        }

        // Initialize charts
        function initializeCharts() {
            // Live output chart
            const liveOutputCtx = document.getElementById('liveOutputChart').getContext('2d');
            window.liveOutputChart = new Chart(liveOutputCtx, {
                type: 'line',
                data: {
                    labels: ['6:00', '7:00', '8:00', '9:00', '10:00', '11:00', '12:00', '13:00', '14:00', '15:00', '16:00', '17:00'],
                    datasets: [{
                        label: 'Công suất (kW)',
                        data: [0, 0.5, 1.2, 2.5, 3.8, 4.2, 4.5, 4.8, 4.5, 3.5, 2.0, 0.5],
                        borderColor: '#4CAF50',
                        backgroundColor: 'rgba(76, 175, 80, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Công suất (kW)'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Thời gian'
                            }
                        }
                    }
                }
            });
            
            // Savings chart
            const savingsCtx = document.getElementById('savingsChart').getContext('2d');
            window.savingsChart = new Chart(savingsCtx, {
                type: 'bar',
                data: {
                    labels: ['10/2024', '11/2024', '12/2024', '01/2025', '02/2025', '03/2025', '04/2025', '05/2025', '06/2025', '07/2025', '08/2025', '09/2025'],
                    datasets: [{
                        label: 'Tiết kiệm (VND)',
                        data: [120000, 150000, 180000, 200000, 220000, 250000, 280000, 300000, 320000, 350000, 380000, 400000],
                        backgroundColor: 'rgba(54, 162, 235, 0.7)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Tiết kiệm (VND)'
                            },
                            ticks: {
                                callback: function(value) {
                                    return (value / 1000) + 'k';
                                }
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Tháng'
                            }
                        }
                    }
                }
            });
        }

        // Update charts
        function updateCharts() {
            if (!window.liveOutputChart || !window.savingsChart) return;
            
            // Update live output chart with new data
            const newData = window.liveOutputChart.data.datasets[0].data.map(value => {
                // Add some random variation
                const variation = (Math.random() - 0.5) * 0.5;
                return Math.max(0, value + variation);
            });
            
            window.liveOutputChart.data.datasets[0].data = newData;
            window.liveOutputChart.update();
            
            // Update savings chart with new data
            const newSavingsData = window.savingsChart.data.datasets[0].data.map(value => {
                // Add some random growth
                const growth = Math.random() * 10000;
                return value + growth;
            });
            
            window.savingsChart.data.datasets[0].data = newSavingsData;
            window.savingsChart.update();
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>

